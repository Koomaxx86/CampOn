<!DOCTYPE html>
<html lang="ko"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{/UI/user/layout/main_layout}"
      >
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CampOn(캠프온) 안내페이지</title>
</head>
<body layout:fragment="content">
    <h1>캠핑장 상품 수정</h1>
    <h4>캠핑장 상품을 수정하기 위한 페이지입니다.</h4>
    
    <form th:action="|/admin/campdetailupdate?${_csrf.parameterName}=${_csrf.token}|" method="POST" id="form" enctype="multipart/form-data">
        <!-- <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}" /> -->
        <input name="cpdtNo" th:value="${camp.cpdtNo}">
        <input name="campNo" th:value="${camp.campNo}">
        <input name="userNo" th:value="${camp.userNo}">
        <table>
            <tr>
                <td>캠핑장 상품 이름</td>
                <td>
                    <input type="text" name="cpdtName" th:value="${camp.cpdtName}" placeholder="상품 이름">
                </td>
            </tr>
            <tr>
                <td>파일</td>
                <td>
                    <input type="file" name="cpdiFiles" multiple>
                </td>
            </tr>
            <tr>
                <td>수용 가능 인원 수</td>
                <td>
                    <input type="number" name="cpdtNop" th:value="${camp.cpdtNop}" placeholder="인원" min="1">명
                </td>
                
            </tr>
            <tr>
                <td>면적</td>
                <td>
                    <input type="text" name="cpdtSize" th:value="${camp.cpdtSize}" placeholder="면적">㎡
                </td>
            </tr>
            <tr>
                <td>금액</td>
                <td>
                    <input type="number" name="cpdtPrice" th:value="${camp.cpdtPrice}" placeholder="금액" min="1">원
                </td>
            </tr>
            <tr>
                <td>캠핑종류</td>
                <td>
                    <input type="radio" name="campTypeNo" th:attr="checked=${camp.campTypeNo == 1 ? 'ture' : 'false'}" id="1" value="1" /><label for="1"><span></span>오토캠핑</label>
                    <input type="radio" name="campTypeNo" th:attr="checked=${camp.campTypeNo == 2 ? 'ture' : 'false'}" id="2" value="2" /><label for="2"><span></span>글램핑</label>
                    <input type="radio" name="campTypeNo" th:attr="checked=${camp.campTypeNo == 3 ? 'ture' : 'false'}" id="3" value="3" /><label for="3"><span></span>카라반</label>
                    <input type="radio" name="campTypeNo" th:attr="checked=${camp.campTypeNo == 4 ? 'ture' : 'false'}" id="4" value="4" /><label for="4"><span></span>펜션</label>
                    <input type="radio" name="campTypeNo" th:attr="checked=${camp.campTypeNo == 5 ? 'ture' : 'false'}" id="5" value="5" /><label for="5"><span></span>피크닉</label>
                </td>
            </tr>
            <tr>
                <td>캠핑상품 소개</td>
                <td>
                    <textarea name="cpdtIntroduction" cols="40" rows="5" th:text="${camp.cpdtIntroduction}" placeholder="상품 소개"></textarea>
                </td>
            </tr>
        </table>
        <div>
            <button type="button" onclick="history.back(-1)">목록</button>
            <button type="button" onclick="actionUpdate()">수정</button>
            <button type="button" onclick="actionDelete()">삭제</button>
        </div>
    </form>

    <script>
        let form = document.getElementById('form')
        
        function actionUpdate(){ form.submit() }
        function actionDelete(){ 
            let check = confirm('캠핑상품을 삭제하시겠습니까?')
            if(check){
                form.action = '/admin/campdetaildelete'
                form.submit()
            }
        }

    </script>
</body>
</html>